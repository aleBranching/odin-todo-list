(()=>{"use strict";function e(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function r(r){e(1,arguments);var n=Object.prototype.toString.call(r);return r instanceof Date||"object"===t(r)&&"[object Date]"===n?new Date(r.getTime()):"number"==typeof r||"[object Number]"===n?new Date(r):("string"!=typeof r&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function n(t){e(1,arguments);var n=r(t);return n.setHours(0,0,0,0),n}function o(t,r){e(2,arguments);var o=n(t),a=n(r);return o.getTime()===a.getTime()}function a(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var s={};function c(){return s}function i(t,n){var o,s,i,d,l,u,m,k;e(1,arguments);var p=c(),h=a(null!==(o=null!==(s=null!==(i=null!==(d=null==n?void 0:n.weekStartsOn)&&void 0!==d?d:null==n||null===(l=n.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==i?i:p.weekStartsOn)&&void 0!==s?s:null===(m=p.locale)||void 0===m||null===(k=m.options)||void 0===k?void 0:k.weekStartsOn)&&void 0!==o?o:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=r(t),g=f.getDay(),v=(g<h?7:0)+g-h;return f.setDate(f.getDate()-v),f.setHours(0,0,0,0),f}function d(t,r,n){e(2,arguments);var o=i(t,n),a=i(r,n);return o.getTime()===a.getTime()}class l{static loadAddProject(){function e(e,t){const r=document.createElement("button"),n=document.createElement("span");n.classList="material-symbols-outlined",n.textContent=e;const o=document.createTextNode(t);return r.appendChild(n),r.appendChild(o),r.id=`form${t}`,r.addEventListener("click",(e=>{e.preventDefault()})),r}const t=document.createElement("form");t.id="addProjectForm";const r=document.createElement("label");r.setAttribute("for","projectName"),r.innerText="Name:";const n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("name","projectName"),n.setAttribute("id","projectName"),n.required=!0,console.log(n);const o=document.createElement("div");return o.classList="buttons",o.appendChild(e("done","Submit")),o.appendChild(e("cancel","Cancel")),t.appendChild(r),t.appendChild(n),t.appendChild(o),t}static returnProjectItem(e){const t=document.createElement("div");return t.textContent=e,t.id="projectItem",t}static returnAddProjectBTN(){const e=document.createElement("div");return e.textContent="+ Add project",e.id="projectAdder",e}}class u{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}getTasks(){return this.tasks}getTask(e){return this.tasks.find((t=>t.getName()===e))}removeTask(e){return this.tasks=this.tasks.filter((t=>t.getName()!==e)),this.tasks}addTask(e){return this.tasks.push(e)}}class m{constructor(e,t,r){this.name=e,this.date=t,this.done=!1,this.project=r}setDate(e){this.date=e}toggleDone(){this.done=!this.done}getDate(){return this.date}setName(e){this.name=e}getName(){return this.name}}const k=new class{constructor(){this.projects=[],this.projects.push(new u("main"))}getProjects(){return this.projects}getProjectsNotMain(){return this.projects.filter((e=>"main"!==e.getName()))}getAProject(e){return this.projects.find((t=>t.getName()===e))}addProject(e){return this.projects.push(new u(`${e}`))}};k.addProject("test"),k.getAProject("test").addTask(new m("Do homework","2023-01-19","test")),k.getAProject("test").addTask(new m("todays task 1","2023-01-08","test")),k.getAProject("test").addTask(new m("todays task 2","2023-01-08","test")),k.getAProject("main").addTask(new m("get rizz","2023-01-19","main")),k.getAProject("main").addTask(new m("Go rock climbing","2024-02-21","main")),k.getAProject("main").addTask(new m("read a book","2023-01-12","main"));const p=k;class h{static createTask(e,t,r){const n=document.createElement("div");n.classList="task",n.dataset.project=r;const o=document.createElement("div");o.classList="taskInfo";const a=document.createElement("input");a.setAttribute("type","checkbox"),a.setAttribute("name","finishedTask"),a.setAttribute("id","finishedTask");const s=document.createElement("input");s.setAttribute("type","date"),s.value=e,s.readOnly=!0;const c=document.createElement("div");c.classList="noteText",c.textContent=t,o.appendChild(a),o.appendChild(s),o.appendChild(c),n.appendChild(o);const i=document.createElement("div");i.classList="functions";const d=document.createElement("span");d.classList="material-symbols-outlined edit",d.textContent="edit";const l=document.createElement("span");return l.textContent="delete",l.classList="material-symbols-outlined delete",i.appendChild(d),i.appendChild(l),n.appendChild(i),n}static createAddTask(){const e=document.createElement("div");return e.classList="addTask",e.textContent="+ Add Task",e}static createTaskForm(){const e=document.createElement("div");e.classList="addTaskForm",e.innerHTML='\n    <form action="">\n      <div>\n        <label for="date">Date:</label>\n        <input type="date" name="taskDate" id="taskDate" />\n        <label for="Task">Task:</label>\n        <input type="text" name="taskText" id="taskText" />\n      </div>\n      <div class="taskFormButtons">\n        <button id="formSubmit">\n          <span class="material-symbols-outlined">done</span>Submit\n        </button>\n        <button id="formCancel">\n          <span class="material-symbols-outlined">cancel</span>Cancel\n        </button>\n      </div>\n    </form>\n  ';const t=e.querySelector("#formSubmit"),r=e.querySelector("#formCancel");return t.addEventListener("click",(e=>{e.preventDefault()})),r.addEventListener("click",(e=>{e.preventDefault()})),e}}class f{static loadPage(){this.addProjectListener(),this.projectListener(),this.addTaskListener(),this.addCurrentProjects(),this.differentProjectSelected("main")}static currentProjectOBJ=p.getAProject("main");static createHeader(){const e=document.createElement("div");return e.classList="header",e}static createFooter(){const e=document.createElement("div");return e.classList="footer",e}static addProjectFormBTNS(){const e=document.querySelector("#formSubmit"),t=document.querySelector("#formCancel"),r=document.querySelector("#projectName"),n=document.querySelector("#addProjectForm");r.focus(),e.addEventListener("click",(e=>{if(e.preventDefault(),""!==r.value&&null==p.getAProject(r.value)){r.textContent="",n.replaceWith(l.returnAddProjectBTN()),this.addProjectListener();const e=document.querySelector("div#projectAdder"),t=l.returnProjectItem(r.value);e.before(t),console.log(t),p.addProject(r.value),t.addEventListener("click",(()=>{this.differentProjectSelected(r.value)}))}})),t.addEventListener("click",(e=>{e.preventDefault(),console.log("test"),n.replaceWith(l.returnAddProjectBTN()),this.addProjectListener()}))}static addCurrentProjects(){const e=p.getProjectsNotMain();console.log(e);const t=document.querySelector("div#projectAdder");e.forEach((e=>{const r=l.returnProjectItem(e.getName());t.before(r),r.addEventListener("click",(()=>{this.differentProjectSelected(e.getName())}))}))}static projectListener(){const e=document.querySelector(".primary > div:nth-child(1)"),t=document.querySelector(".primary > div:nth-child(2)"),r=document.querySelector(".primary > div:nth-child(3)");e.addEventListener("click",(()=>{console.log(p.getAProject("main")),this.differentProjectSelected("main")})),t.addEventListener("click",(()=>{this.updateMainDivProjectByDate("today")})),r.addEventListener("click",(()=>{this.updateMainDivProjectByDate("this week")}))}static addProjectListener(){const e=document.querySelector("#projectAdder");e.addEventListener("click",(()=>{e.replaceWith(l.loadAddProject()),this.addProjectFormBTNS()}))}static taskListener(e){const t=e.querySelector(".delete"),r=e.querySelector(".edit"),n=e.querySelector("#finishedTask"),o=e.querySelector(".noteText").textContent;t.addEventListener("click",(()=>{e.remove(),this.currentProjectOBJ.removeTask(o)})),r.addEventListener("click",(()=>{const t=e,r=e.querySelector(".noteText").textContent,n=e.querySelector('input[type="date"]').value,o=h.createTaskForm();console.log("current Text",r),console.log("current Date",n),o.querySelector("#taskText").value=r,o.querySelector("#taskDate").value=n,t.replaceWith(o),this.editTaskListener(o,t)})),n.addEventListener("click",(()=>{e.classList.toggle("checked"),this.currentProjectOBJ.getTask(o).toggleDone()}))}static logicUpdateATask(e,t,r){const n=e.querySelector(".noteText").textContent,o=this.currentProjectOBJ.getTask(n);o.setName(t),o.setDate(r)}static editTaskListener(e,t){const r=e.querySelector("#formSubmit"),n=e.querySelector("#formCancel"),o=e.querySelector("#taskDate"),a=e.querySelector("#taskText");r.addEventListener("click",(r=>{if(console.log("zzzz"),r.preventDefault(),""!==o.value&&""!==o.value){const r=o.value,n=a.value;this.logicUpdateATask(t,n,r);const s=h.createTask(r,n,t.dataset.project);e.replaceWith(s),this.taskListener(s),this.currentProjectOBJ.getTask()}})),console.log(r),n.addEventListener("click",(r=>{r.preventDefault(),e.replaceWith(t),this.taskListener(t)}))}static differentProjectSelected(e){if(document.querySelector(".addTaskForm")){console.log("exists");const e=document.querySelector(".addTaskForm");console.log(e),e.querySelector("#formCancel").click()}console.log(p.getAProject(e)),this.currentProjectOBJ=p.getAProject(e),this.updateMainDivProject(e)}static updateMainDivProject(e){null==document.querySelector(".addTask")&&document.querySelector(".main").append(h.createAddTask()),document.querySelector(".main").dataset.currentProject=e,console.log(this.currentProjectOBJ.getTasks()),document.querySelectorAll("div.task").forEach((e=>{e.remove()})),this.currentProjectOBJ.getTasks().forEach((t=>{console.log("A task",t);const r=document.querySelector(".addTask"),n=h.createTask(t.getDate(),t.getName(),e);!0===t.done&&n.classList.toggle("checked"),this.taskListener(n),r.before(n),this.addTaskListener()}))}static updateMainDivProjectByDate(e){const t=this.logicTasksByDate(e),r=document.querySelector(".main");r.dataset.currentProject="date",console.log(this.currentProjectOBJ.getTasks()),document.querySelectorAll("div.task").forEach((e=>{e.remove()})),console.log("!!!!!",t),t.forEach((e=>{console.log("A task",e);const t=h.createTask(e.getDate(),e.getName(),e.project);!0===e.done&&t.classList.toggle("checked"),this.taskListener(t),r.append(t)})),document.querySelector(".addTask")&&document.querySelector(".addTask").remove()}static logicTasksByDate(t){if("today"===t){const t=[];return p.getProjects().forEach((r=>{r.getTasks().forEach((r=>{console.log("AAAAAAAAAAAAAAA"),function(t){return e(1,arguments),o(t,Date.now())}(new Date(r.getDate()))&&t.push(r)}))})),console.log("Todays tasks",t),t}if("this week"===t){const t=[];return p.getProjects().forEach((r=>{r.getTasks().forEach((r=>{(function(t,r){return e(1,arguments),d(t,Date.now(),r)})(new Date(r.getDate()))&&t.push(r)}))})),console.log("This weeks tasks",t),t}}static addCurrentTasks(){}static formTaskListener(){const e=document.querySelector("#formSubmit"),t=document.querySelector("#formCancel"),r=document.querySelector("#taskDate"),n=document.querySelector(".addTaskForm"),o=document.querySelector(".main").dataset.project,a=document.querySelector("#taskText");e.addEventListener("click",(e=>{if(console.log("zzzz"),e.preventDefault(),""!==r.value&&""!==r.value){const e=r.value,t=a.value;n.replaceWith(h.createAddTask());const s=document.querySelector(".addTask"),c=h.createTask(e,t,o);this.taskListener(c),s.before(c),this.addTaskListener(),this.currentProjectOBJ.addTask(new m(t,e,this.currentProjectOBJ.getName()))}})),console.log(e),t.addEventListener("click",(e=>{e.preventDefault(),n.replaceWith(h.createAddTask()),this.addTaskListener()}))}static addTaskListener(){const e=document.querySelector(".addTask");e.addEventListener("click",(t=>{if(t.preventDefault(),null==document.querySelector(".addTaskForm")){const t=h.createTaskForm();t.querySelector("input#taskDate").focus(),e.replaceWith(t),this.formTaskListener()}}))}}f.loadPage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixFQUFjMkUsaUJBQy9CakcsS0FBSzRDLGlCQUFpQixHQUUxQixDQUVBeEUseUJBQ0UsTUFBTTBJLEVBQWFySSxTQUFTOEQsY0FBYyxZQUMxQ3VFLEVBQVc1SCxpQkFBaUIsU0FBVUMsSUFFcEMsR0FEQUEsRUFBRUMsaUJBQzRDLE1BQTFDWCxTQUFTOEQsY0FBYyxnQkFBeUIsQ0FDbEQsTUFBTXdFLEVBQWN6RixFQUFjdUQsaUJBQ2pCa0MsRUFBWXhFLGNBQWMsa0JBQ2xDWSxRQUNUMkQsRUFBVzFELFlBQVkyRCxHQUV2Qi9HLEtBQUtnSCxrQkFDUCxJQUVKLEVHbFpGdkUsRUFBYXdFLFUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL3RvRGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vc3RhcnRPZkRheS9pbmRleC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vaXNTYW1lRGF5L2luZGV4LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VzbS9fbGliL3RvSW50ZWdlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vX2xpYi9kZWZhdWx0T3B0aW9ucy9pbmRleC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9lc20vc3RhcnRPZldlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzU2FtZVdlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9uYXZiYXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy9wcm9qZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvdGFzay5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9tb2R1bGVzL3RvZG9MaXN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL21vZHVsZXMvbWFpbkNvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvbW9kdWxlcy91aUNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzVG9kYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZXNtL2lzVGhpc1dlZWsvaW5kZXguanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVxdWlyZWRBcmdzKHJlcXVpcmVkLCBhcmdzKSB7XG4gIGlmIChhcmdzLmxlbmd0aCA8IHJlcXVpcmVkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihyZXF1aXJlZCArICcgYXJndW1lbnQnICsgKHJlcXVpcmVkID4gMSA/ICdzJyA6ICcnKSArICcgcmVxdWlyZWQsIGJ1dCBvbmx5ICcgKyBhcmdzLmxlbmd0aCArICcgcHJlc2VudCcpO1xuICB9XG59IiwiZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSB0b0RhdGVcbiAqIEBjYXRlZ29yeSBDb21tb24gSGVscGVyc1xuICogQHN1bW1hcnkgQ29udmVydCB0aGUgZ2l2ZW4gYXJndW1lbnQgdG8gYW4gaW5zdGFuY2Ugb2YgRGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENvbnZlcnQgdGhlIGdpdmVuIGFyZ3VtZW50IHRvIGFuIGluc3RhbmNlIG9mIERhdGUuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIGFuIGluc3RhbmNlIG9mIERhdGUsIHRoZSBmdW5jdGlvbiByZXR1cm5zIGl0cyBjbG9uZS5cbiAqXG4gKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBudW1iZXIsIGl0IGlzIHRyZWF0ZWQgYXMgYSB0aW1lc3RhbXAuXG4gKlxuICogSWYgdGhlIGFyZ3VtZW50IGlzIG5vbmUgb2YgdGhlIGFib3ZlLCB0aGUgZnVuY3Rpb24gcmV0dXJucyBJbnZhbGlkIERhdGUuXG4gKlxuICogKipOb3RlKio6ICphbGwqIERhdGUgYXJndW1lbnRzIHBhc3NlZCB0byBhbnkgKmRhdGUtZm5zKiBmdW5jdGlvbiBpcyBwcm9jZXNzZWQgYnkgYHRvRGF0ZWAuXG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gYXJndW1lbnQgLSB0aGUgdmFsdWUgdG8gY29udmVydFxuICogQHJldHVybnMge0RhdGV9IHRoZSBwYXJzZWQgZGF0ZSBpbiB0aGUgbG9jYWwgdGltZSB6b25lXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ2xvbmUgdGhlIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUobmV3IERhdGUoMjAxNCwgMSwgMTEsIDExLCAzMCwgMzApKVxuICogLy89PiBUdWUgRmViIDExIDIwMTQgMTE6MzA6MzBcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ29udmVydCB0aGUgdGltZXN0YW1wIHRvIGRhdGU6XG4gKiBjb25zdCByZXN1bHQgPSB0b0RhdGUoMTM5MjA5ODQzMDAwMClcbiAqIC8vPT4gVHVlIEZlYiAxMSAyMDE0IDExOjMwOjMwXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9EYXRlKGFyZ3VtZW50KSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgYXJnU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KTsgLy8gQ2xvbmUgdGhlIGRhdGVcblxuICBpZiAoYXJndW1lbnQgaW5zdGFuY2VvZiBEYXRlIHx8IF90eXBlb2YoYXJndW1lbnQpID09PSAnb2JqZWN0JyAmJiBhcmdTdHIgPT09ICdbb2JqZWN0IERhdGVdJykge1xuICAgIC8vIFByZXZlbnQgdGhlIGRhdGUgdG8gbG9zZSB0aGUgbWlsbGlzZWNvbmRzIHdoZW4gcGFzc2VkIHRvIG5ldyBEYXRlKCkgaW4gSUUxMFxuICAgIHJldHVybiBuZXcgRGF0ZShhcmd1bWVudC5nZXRUaW1lKCkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBhcmd1bWVudCA9PT0gJ251bWJlcicgfHwgYXJnU3RyID09PSAnW29iamVjdCBOdW1iZXJdJykge1xuICAgIHJldHVybiBuZXcgRGF0ZShhcmd1bWVudCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCh0eXBlb2YgYXJndW1lbnQgPT09ICdzdHJpbmcnIHx8IGFyZ1N0ciA9PT0gJ1tvYmplY3QgU3RyaW5nXScpICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybihcIlN0YXJ0aW5nIHdpdGggdjIuMC4wLWJldGEuMSBkYXRlLWZucyBkb2Vzbid0IGFjY2VwdCBzdHJpbmdzIGFzIGRhdGUgYXJndW1lbnRzLiBQbGVhc2UgdXNlIGBwYXJzZUlTT2AgdG8gcGFyc2Ugc3RyaW5ncy4gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGF0ZS1mbnMvZGF0ZS1mbnMvYmxvYi9tYXN0ZXIvZG9jcy91cGdyYWRlR3VpZGUubWQjc3RyaW5nLWFyZ3VtZW50c1wiKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcblxuICAgICAgY29uc29sZS53YXJuKG5ldyBFcnJvcigpLnN0YWNrKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgfVxufSIsImltcG9ydCB0b0RhdGUgZnJvbSBcIi4uL3RvRGF0ZS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgc3RhcnRPZkRheVxuICogQGNhdGVnb3J5IERheSBIZWxwZXJzXG4gKiBAc3VtbWFyeSBSZXR1cm4gdGhlIHN0YXJ0IG9mIGEgZGF5IGZvciB0aGUgZ2l2ZW4gZGF0ZS5cbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFJldHVybiB0aGUgc3RhcnQgb2YgYSBkYXkgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIG9yaWdpbmFsIGRhdGVcbiAqIEByZXR1cm5zIHtEYXRlfSB0aGUgc3RhcnQgb2YgYSBkYXlcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSBkYXkgZm9yIDIgU2VwdGVtYmVyIDIwMTQgMTE6NTU6MDA6XG4gKiBjb25zdCByZXN1bHQgPSBzdGFydE9mRGF5KG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCkpXG4gKiAvLz0+IFR1ZSBTZXAgMDIgMjAxNCAwMDowMDowMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0T2ZEYXkoZGlydHlEYXRlKSB7XG4gIHJlcXVpcmVkQXJncygxLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZSA9IHRvRGF0ZShkaXJ0eURhdGUpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICByZXR1cm4gZGF0ZTtcbn0iLCJpbXBvcnQgc3RhcnRPZkRheSBmcm9tIFwiLi4vc3RhcnRPZkRheS9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcbi8qKlxuICogQG5hbWUgaXNTYW1lRGF5XG4gKiBAY2F0ZWdvcnkgRGF5IEhlbHBlcnNcbiAqIEBzdW1tYXJ5IEFyZSB0aGUgZ2l2ZW4gZGF0ZXMgaW4gdGhlIHNhbWUgZGF5IChhbmQgeWVhciBhbmQgbW9udGgpP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aCk/XG4gKlxuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZUxlZnQgLSB0aGUgZmlyc3QgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtEYXRlfE51bWJlcn0gZGF0ZVJpZ2h0IC0gdGhlIHNlY29uZCBkYXRlIHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGVzIGFyZSBpbiB0aGUgc2FtZSBkYXkgKGFuZCB5ZWFyIGFuZCBtb250aClcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMiBhcmd1bWVudHMgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQXJlIDQgU2VwdGVtYmVyIDA2OjAwOjAwIGFuZCA0IFNlcHRlbWJlciAxODowMDowMCBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCwgNiwgMCksIG5ldyBEYXRlKDIwMTQsIDgsIDQsIDE4LCAwKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIgYW5kIDQgT2N0b2JlciBpbiB0aGUgc2FtZSBkYXk/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVEYXkobmV3IERhdGUoMjAxNCwgOCwgNCksIG5ldyBEYXRlKDIwMTQsIDksIDQpKVxuICogLy89PiBmYWxzZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgNCBTZXB0ZW1iZXIsIDIwMTQgYW5kIDQgU2VwdGVtYmVyLCAyMDE1IGluIHRoZSBzYW1lIGRheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzU2FtZURheShuZXcgRGF0ZSgyMDE0LCA4LCA0KSwgbmV3IERhdGUoMjAxNSwgOCwgNCkpXG4gKiAvLz0+IGZhbHNlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTYW1lRGF5KGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gIHJlcXVpcmVkQXJncygyLCBhcmd1bWVudHMpO1xuICB2YXIgZGF0ZUxlZnRTdGFydE9mRGF5ID0gc3RhcnRPZkRheShkaXJ0eURhdGVMZWZ0KTtcbiAgdmFyIGRhdGVSaWdodFN0YXJ0T2ZEYXkgPSBzdGFydE9mRGF5KGRpcnR5RGF0ZVJpZ2h0KTtcbiAgcmV0dXJuIGRhdGVMZWZ0U3RhcnRPZkRheS5nZXRUaW1lKCkgPT09IGRhdGVSaWdodFN0YXJ0T2ZEYXkuZ2V0VGltZSgpO1xufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRvSW50ZWdlcihkaXJ0eU51bWJlcikge1xuICBpZiAoZGlydHlOdW1iZXIgPT09IG51bGwgfHwgZGlydHlOdW1iZXIgPT09IHRydWUgfHwgZGlydHlOdW1iZXIgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIE5hTjtcbiAgfVxuXG4gIHZhciBudW1iZXIgPSBOdW1iZXIoZGlydHlOdW1iZXIpO1xuXG4gIGlmIChpc05hTihudW1iZXIpKSB7XG4gICAgcmV0dXJuIG51bWJlcjtcbiAgfVxuXG4gIHJldHVybiBudW1iZXIgPCAwID8gTWF0aC5jZWlsKG51bWJlcikgOiBNYXRoLmZsb29yKG51bWJlcik7XG59IiwidmFyIGRlZmF1bHRPcHRpb25zID0ge307XG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdE9wdGlvbnMoKSB7XG4gIHJldHVybiBkZWZhdWx0T3B0aW9ucztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXREZWZhdWx0T3B0aW9ucyhuZXdPcHRpb25zKSB7XG4gIGRlZmF1bHRPcHRpb25zID0gbmV3T3B0aW9ucztcbn0iLCJpbXBvcnQgdG9EYXRlIGZyb20gXCIuLi90b0RhdGUvaW5kZXguanNcIjtcbmltcG9ydCB0b0ludGVnZXIgZnJvbSBcIi4uL19saWIvdG9JbnRlZ2VyL2luZGV4LmpzXCI7XG5pbXBvcnQgcmVxdWlyZWRBcmdzIGZyb20gXCIuLi9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi4vX2xpYi9kZWZhdWx0T3B0aW9ucy9pbmRleC5qc1wiO1xuLyoqXG4gKiBAbmFtZSBzdGFydE9mV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogUmV0dXJuIHRoZSBzdGFydCBvZiBhIHdlZWsgZm9yIHRoZSBnaXZlbiBkYXRlLlxuICogVGhlIHJlc3VsdCB3aWxsIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIG9yaWdpbmFsIGRhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBhbiBvYmplY3Qgd2l0aCBvcHRpb25zLlxuICogQHBhcmFtIHtMb2NhbGV9IFtvcHRpb25zLmxvY2FsZT1kZWZhdWx0TG9jYWxlXSAtIHRoZSBsb2NhbGUgb2JqZWN0LiBTZWUgW0xvY2FsZV17QGxpbmsgaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9Mb2NhbGV9XG4gKiBAcGFyYW0gezB8MXwyfDN8NHw1fDZ9IFtvcHRpb25zLndlZWtTdGFydHNPbj0wXSAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrICgwIC0gU3VuZGF5KVxuICogQHJldHVybnMge0RhdGV9IHRoZSBzdGFydCBvZiBhIHdlZWtcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gMSBhcmd1bWVudCByZXF1aXJlZFxuICogQHRocm93cyB7UmFuZ2VFcnJvcn0gYG9wdGlvbnMud2Vla1N0YXJ0c09uYCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBUaGUgc3RhcnQgb2YgYSB3ZWVrIGZvciAyIFNlcHRlbWJlciAyMDE0IDExOjU1OjAwOlxuICogY29uc3QgcmVzdWx0ID0gc3RhcnRPZldlZWsobmV3IERhdGUoMjAxNCwgOCwgMiwgMTEsIDU1LCAwKSlcbiAqIC8vPT4gU3VuIEF1ZyAzMSAyMDE0IDAwOjAwOjAwXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRoZSB3ZWVrIHN0YXJ0cyBvbiBNb25kYXksIHRoZSBzdGFydCBvZiB0aGUgd2VlayBmb3IgMiBTZXB0ZW1iZXIgMjAxNCAxMTo1NTowMDpcbiAqIGNvbnN0IHJlc3VsdCA9IHN0YXJ0T2ZXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIsIDExLCA1NSwgMCksIHsgd2Vla1N0YXJ0c09uOiAxIH0pXG4gKiAvLz0+IE1vbiBTZXAgMDEgMjAxNCAwMDowMDowMFxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHN0YXJ0T2ZXZWVrKGRpcnR5RGF0ZSwgb3B0aW9ucykge1xuICB2YXIgX3JlZiwgX3JlZjIsIF9yZWYzLCBfb3B0aW9ucyR3ZWVrU3RhcnRzT24sIF9vcHRpb25zJGxvY2FsZSwgX29wdGlvbnMkbG9jYWxlJG9wdGlvLCBfZGVmYXVsdE9wdGlvbnMkbG9jYWwsIF9kZWZhdWx0T3B0aW9ucyRsb2NhbDI7XG5cbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zKCk7XG4gIHZhciB3ZWVrU3RhcnRzT24gPSB0b0ludGVnZXIoKF9yZWYgPSAoX3JlZjIgPSAoX3JlZjMgPSAoX29wdGlvbnMkd2Vla1N0YXJ0c09uID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLndlZWtTdGFydHNPbikgIT09IG51bGwgJiYgX29wdGlvbnMkd2Vla1N0YXJ0c09uICE9PSB2b2lkIDAgPyBfb3B0aW9ucyR3ZWVrU3RhcnRzT24gOiBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfb3B0aW9ucyRsb2NhbGUgPSBvcHRpb25zLmxvY2FsZSkgPT09IG51bGwgfHwgX29wdGlvbnMkbG9jYWxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29wdGlvbnMkbG9jYWxlJG9wdGlvID0gX29wdGlvbnMkbG9jYWxlLm9wdGlvbnMpID09PSBudWxsIHx8IF9vcHRpb25zJGxvY2FsZSRvcHRpbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29wdGlvbnMkbG9jYWxlJG9wdGlvLndlZWtTdGFydHNPbikgIT09IG51bGwgJiYgX3JlZjMgIT09IHZvaWQgMCA/IF9yZWYzIDogZGVmYXVsdE9wdGlvbnMud2Vla1N0YXJ0c09uKSAhPT0gbnVsbCAmJiBfcmVmMiAhPT0gdm9pZCAwID8gX3JlZjIgOiAoX2RlZmF1bHRPcHRpb25zJGxvY2FsID0gZGVmYXVsdE9wdGlvbnMubG9jYWxlKSA9PT0gbnVsbCB8fCBfZGVmYXVsdE9wdGlvbnMkbG9jYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZGVmYXVsdE9wdGlvbnMkbG9jYWwyID0gX2RlZmF1bHRPcHRpb25zJGxvY2FsLm9wdGlvbnMpID09PSBudWxsIHx8IF9kZWZhdWx0T3B0aW9ucyRsb2NhbDIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kZWZhdWx0T3B0aW9ucyRsb2NhbDIud2Vla1N0YXJ0c09uKSAhPT0gbnVsbCAmJiBfcmVmICE9PSB2b2lkIDAgPyBfcmVmIDogMCk7IC8vIFRlc3QgaWYgd2Vla1N0YXJ0c09uIGlzIGJldHdlZW4gMCBhbmQgNiBfYW5kXyBpcyBub3QgTmFOXG5cbiAgaWYgKCEod2Vla1N0YXJ0c09uID49IDAgJiYgd2Vla1N0YXJ0c09uIDw9IDYpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3dlZWtTdGFydHNPbiBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNiBpbmNsdXNpdmVseScpO1xuICB9XG5cbiAgdmFyIGRhdGUgPSB0b0RhdGUoZGlydHlEYXRlKTtcbiAgdmFyIGRheSA9IGRhdGUuZ2V0RGF5KCk7XG4gIHZhciBkaWZmID0gKGRheSA8IHdlZWtTdGFydHNPbiA/IDcgOiAwKSArIGRheSAtIHdlZWtTdGFydHNPbjtcbiAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gZGlmZik7XG4gIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBkYXRlO1xufSIsImltcG9ydCBzdGFydE9mV2VlayBmcm9tIFwiLi4vc3RhcnRPZldlZWsvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG5cbi8qKlxuICogQG5hbWUgaXNTYW1lV2Vla1xuICogQGNhdGVnb3J5IFdlZWsgSGVscGVyc1xuICogQHN1bW1hcnkgQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSB3ZWVrIChhbmQgbW9udGggYW5kIHllYXIpP1xuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQXJlIHRoZSBnaXZlbiBkYXRlcyBpbiB0aGUgc2FtZSB3ZWVrIChhbmQgbW9udGggYW5kIHllYXIpP1xuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVMZWZ0IC0gdGhlIGZpcnN0IGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGVSaWdodCAtIHRoZSBzZWNvbmQgZGF0ZSB0byBjaGVja1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIGFuIG9iamVjdCB3aXRoIG9wdGlvbnMuXG4gKiBAcGFyYW0ge0xvY2FsZX0gW29wdGlvbnMubG9jYWxlPWRlZmF1bHRMb2NhbGVdIC0gdGhlIGxvY2FsZSBvYmplY3QuIFNlZSBbTG9jYWxlXXtAbGluayBodHRwczovL2RhdGUtZm5zLm9yZy9kb2NzL0xvY2FsZX1cbiAqIEBwYXJhbSB7MHwxfDJ8M3w0fDV8Nn0gW29wdGlvbnMud2Vla1N0YXJ0c09uPTBdIC0gdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgKDAgLSBTdW5kYXkpXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gdGhlIGRhdGVzIGFyZSBpbiB0aGUgc2FtZSB3ZWVrIChhbmQgbW9udGggYW5kIHllYXIpXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDIgYXJndW1lbnRzIHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy53ZWVrU3RhcnRzT25gIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIEFyZSAzMSBBdWd1c3QgMjAxNCBhbmQgNCBTZXB0ZW1iZXIgMjAxNCBpbiB0aGUgc2FtZSB3ZWVrP1xuICogY29uc3QgcmVzdWx0ID0gaXNTYW1lV2VlayhuZXcgRGF0ZSgyMDE0LCA3LCAzMSksIG5ldyBEYXRlKDIwMTQsIDgsIDQpKVxuICogLy89PiB0cnVlXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHdlZWsgc3RhcnRzIHdpdGggTW9uZGF5LFxuICogLy8gYXJlIDMxIEF1Z3VzdCAyMDE0IGFuZCA0IFNlcHRlbWJlciAyMDE0IGluIHRoZSBzYW1lIHdlZWs/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVXZWVrKG5ldyBEYXRlKDIwMTQsIDcsIDMxKSwgbmV3IERhdGUoMjAxNCwgOCwgNCksIHtcbiAqICAgd2Vla1N0YXJ0c09uOiAxXG4gKiB9KVxuICogLy89PiBmYWxzZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBBcmUgMSBKYW51YXJ5IDIwMTQgYW5kIDEgSmFudWFyeSAyMDE1IGluIHRoZSBzYW1lIHdlZWs/XG4gKiBjb25zdCByZXN1bHQgPSBpc1NhbWVXZWVrKG5ldyBEYXRlKDIwMTQsIDAsIDEpLCBuZXcgRGF0ZSgyMDE1LCAwLCAxKSlcbiAqIC8vPT4gZmFsc2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNTYW1lV2VlayhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCwgb3B0aW9ucykge1xuICByZXF1aXJlZEFyZ3MoMiwgYXJndW1lbnRzKTtcbiAgdmFyIGRhdGVMZWZ0U3RhcnRPZldlZWsgPSBzdGFydE9mV2VlayhkaXJ0eURhdGVMZWZ0LCBvcHRpb25zKTtcbiAgdmFyIGRhdGVSaWdodFN0YXJ0T2ZXZWVrID0gc3RhcnRPZldlZWsoZGlydHlEYXRlUmlnaHQsIG9wdGlvbnMpO1xuICByZXR1cm4gZGF0ZUxlZnRTdGFydE9mV2Vlay5nZXRUaW1lKCkgPT09IGRhdGVSaWdodFN0YXJ0T2ZXZWVrLmdldFRpbWUoKTtcbn0iLCIvLyBpbXBvcnQgVUlDb250cm9sbGVyIGZyb20gXCIuL3VpQ29udHJvbGxlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYXZiYXIge1xuICBzdGF0aWMgbG9hZEFkZFByb2plY3QoKSB7XG4gICAgZnVuY3Rpb24gY3JlYXRlQnV0dG9uKHN5bWJvbCwgdGV4dCkge1xuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgIHNwYW4uY2xhc3NMaXN0ID0gXCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkXCI7XG4gICAgICBzcGFuLnRleHRDb250ZW50ID0gc3ltYm9sO1xuXG4gICAgICBjb25zdCBidXR0b25UZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG5cbiAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChidXR0b25UZXh0KTtcbiAgICAgIGJ1dHRvbi5pZCA9IGBmb3JtJHt0ZXh0fWA7XG5cbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0ZXN0XCIpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICB9XG4gICAgLy8gY29uc3QgYWRkUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdHNBZGRlclwiKTtcbiAgICAvLyBhZGRQcm9qZWN0LnRleHRDb250ZW50ID0gXCJcIjtcblxuICAgIGNvbnN0IGZvcm1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICBmb3JtRGl2LmlkID0gXCJhZGRQcm9qZWN0Rm9ybVwiO1xuXG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwicHJvamVjdE5hbWVcIik7XG4gICAgbGFiZWwuaW5uZXJUZXh0ID0gXCJOYW1lOlwiO1xuXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgaW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcInByb2plY3ROYW1lXCIpO1xuICAgIGlucHV0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwicHJvamVjdE5hbWVcIik7XG4gICAgaW5wdXQucmVxdWlyZWQgPSB0cnVlO1xuICAgIGNvbnNvbGUubG9nKGlucHV0KTtcblxuICAgIGNvbnN0IGJ1dHRvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYnV0dG9uRGl2LmNsYXNzTGlzdCA9IFwiYnV0dG9uc1wiO1xuXG4gICAgYnV0dG9uRGl2LmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbihcImRvbmVcIiwgXCJTdWJtaXRcIikpO1xuICAgIGJ1dHRvbkRpdi5hcHBlbmRDaGlsZChjcmVhdGVCdXR0b24oXCJjYW5jZWxcIiwgXCJDYW5jZWxcIikpO1xuXG4gICAgZm9ybURpdi5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgZm9ybURpdi5hcHBlbmRDaGlsZChpbnB1dCk7XG4gICAgZm9ybURpdi5hcHBlbmRDaGlsZChidXR0b25EaXYpO1xuXG4gICAgLy8gbGV0O1xuICAgIHJldHVybiBmb3JtRGl2O1xuICB9XG5cbiAgc3RhdGljIHJldHVyblByb2plY3RJdGVtKG5hbWUpIHtcbiAgICBjb25zdCBwcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBwcm9qZWN0LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBwcm9qZWN0LmlkID0gXCJwcm9qZWN0SXRlbVwiO1xuICAgIHJldHVybiBwcm9qZWN0O1xuICB9XG5cbiAgc3RhdGljIHJldHVybkFkZFByb2plY3RCVE4oKSB7XG4gICAgY29uc3QgYWRkUHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYWRkUHJvamVjdC50ZXh0Q29udGVudCA9IFwiKyBBZGQgcHJvamVjdFwiO1xuICAgIGFkZFByb2plY3QuaWQgPSBcInByb2plY3RBZGRlclwiO1xuICAgIC8vIGFkZFByb2plY3QudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIC8vIGFkZFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAvLyAgIGFkZFByb2plY3QucmVwbGFjZVdpdGgodGhpcy5sb2FkQWRkUHJvamVjdCgpKTtcbiAgICAvLyAgIC8vIFVJQ29udHJvbGxlci5hZGRQcm9qZWN0QlROLmZvcm1CVE5TKCk7XG4gICAgLy8gICAvLyBhZGRQcm9qZWN0RE9NKCk7XG4gICAgLy8gfSk7XG4gICAgcmV0dXJuIGFkZFByb2plY3Q7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3Qge1xuICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnRhc2tzID0gW107XG4gIH1cblxuICBzZXROYW1lKG5hbWUpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG5cbiAgZ2V0TmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xuICB9XG5cbiAgZ2V0VGFza3MoKSB7XG4gICAgcmV0dXJuIHRoaXMudGFza3M7XG4gIH1cblxuICBnZXRUYXNrKHRhc2tOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMudGFza3MuZmluZCgodGFzaykgPT4gdGFzay5nZXROYW1lKCkgPT09IHRhc2tOYW1lKTtcbiAgfVxuXG4gIHJlbW92ZVRhc2sodGFza05hbWUpIHtcbiAgICB0aGlzLnRhc2tzID0gdGhpcy50YXNrcy5maWx0ZXIoKHRhc2spID0+IHRhc2suZ2V0TmFtZSgpICE9PSB0YXNrTmFtZSk7XG4gICAgcmV0dXJuIHRoaXMudGFza3M7XG4gIH1cblxuICBhZGRUYXNrKHRhc2spIHtcbiAgICByZXR1cm4gdGhpcy50YXNrcy5wdXNoKHRhc2spO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUYXNrIHtcbiAgY29uc3RydWN0b3IobmFtZSwgZGF0ZSwgcHJvamVjdCkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5kYXRlID0gZGF0ZTtcbiAgICAvLyB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgfVxuXG4gIHNldERhdGUoZGF0ZSkge1xuICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gIH1cblxuICB0b2dnbGVEb25lKCkge1xuICAgIHRoaXMuZG9uZSA9ICF0aGlzLmRvbmU7XG4gIH1cblxuICBnZXREYXRlKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGU7XG4gIH1cblxuICBzZXROYW1lKG5hbWUpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICB9XG5cbiAgZ2V0TmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xuICB9XG5cbiAgLy8gc2V0UHJpb3JpdHkocHJpb3JpdHkpIHtcbiAgLy8gICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gIC8vIH1cblxuICAvLyBnZXRQcmlvcml0eSgpIHtcbiAgLy8gICByZXR1cm4gdGhpcy5wcmlvcml0eTtcbiAgLy8gfVxufVxuIiwiaW1wb3J0IFByb2plY3QgZnJvbSBcIi4vcHJvamVjdFwiO1xuaW1wb3J0IFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuXG5jbGFzcyBUb2RvTGlzdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucHJvamVjdHMgPSBbXTtcbiAgICB0aGlzLnByb2plY3RzLnB1c2gobmV3IFByb2plY3QoXCJtYWluXCIpKTtcbiAgfVxuXG4gIGdldFByb2plY3RzKCkge1xuICAgIHJldHVybiB0aGlzLnByb2plY3RzO1xuICB9XG5cbiAgZ2V0UHJvamVjdHNOb3RNYWluKCkge1xuICAgIHJldHVybiB0aGlzLnByb2plY3RzLmZpbHRlcigoYVByb2plY3QpID0+IGFQcm9qZWN0LmdldE5hbWUoKSAhPT0gXCJtYWluXCIpO1xuICB9XG5cbiAgLy8gZ2V0UHJvamVjdChuYW1lKSB7XG4gIC8vICAgdGhpcy5wcm9qZWN0cy5mb3JFYWNoKChhUHJvamVjdCkgPT4ge1xuICAvLyAgICAgaWYgKGFQcm9qZWN0Lm5hbWUgPT09IG5hbWUpIHtcbiAgLy8gICAgICAgcmV0dXJuIGFQcm9qZWN0O1xuICAvLyAgICAgfVxuICAvLyAgIH0pO1xuICAvLyB9XG5cbiAgZ2V0QVByb2plY3QobmFtZSkge1xuICAgIC8vIGNvbnNvbGUubG9nKG9iamVjdCk7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5wcm9qZWN0c1swXS5nZXROYW1lKCkpO1xuICAgIHJldHVybiB0aGlzLnByb2plY3RzLmZpbmQoKHByb2plY3QpID0+IHByb2plY3QuZ2V0TmFtZSgpID09PSBuYW1lKTtcbiAgfVxuXG4gIGFkZFByb2plY3QocHJvamVjdCkge1xuICAgIHJldHVybiB0aGlzLnByb2plY3RzLnB1c2gobmV3IFByb2plY3QoYCR7cHJvamVjdH1gKSk7XG4gIH1cbn1cblxuY29uc3QgYVRvZG9MaXN0ID0gbmV3IFRvZG9MaXN0KCk7XG5hVG9kb0xpc3QuYWRkUHJvamVjdChcInRlc3RcIik7XG5hVG9kb0xpc3RcbiAgLmdldEFQcm9qZWN0KFwidGVzdFwiKVxuICAuYWRkVGFzayhuZXcgVGFzayhcIkRvIGhvbWV3b3JrXCIsIFwiMjAyMy0wMS0xOVwiLCBcInRlc3RcIikpO1xuYVRvZG9MaXN0XG4gIC5nZXRBUHJvamVjdChcInRlc3RcIilcbiAgLmFkZFRhc2sobmV3IFRhc2soXCJ0b2RheXMgdGFzayAxXCIsIFwiMjAyMy0wMS0wOFwiLCBcInRlc3RcIikpO1xuYVRvZG9MaXN0XG4gIC5nZXRBUHJvamVjdChcInRlc3RcIilcbiAgLmFkZFRhc2sobmV3IFRhc2soXCJ0b2RheXMgdGFzayAyXCIsIFwiMjAyMy0wMS0wOFwiLCBcInRlc3RcIikpO1xuXG5hVG9kb0xpc3RcbiAgLmdldEFQcm9qZWN0KFwibWFpblwiKVxuICAuYWRkVGFzayhuZXcgVGFzayhcImdldCByaXp6XCIsIFwiMjAyMy0wMS0xOVwiLCBcIm1haW5cIikpO1xuYVRvZG9MaXN0XG4gIC5nZXRBUHJvamVjdChcIm1haW5cIilcbiAgLmFkZFRhc2sobmV3IFRhc2soXCJHbyByb2NrIGNsaW1iaW5nXCIsIFwiMjAyNC0wMi0yMVwiLCBcIm1haW5cIikpO1xuYVRvZG9MaXN0XG4gIC5nZXRBUHJvamVjdChcIm1haW5cIilcbiAgLmFkZFRhc2sobmV3IFRhc2soXCJyZWFkIGEgYm9va1wiLCBcIjIwMjMtMDEtMTJcIiwgXCJtYWluXCIpKTtcblxuZXhwb3J0IGRlZmF1bHQgYVRvZG9MaXN0O1xuIiwiaW1wb3J0IHsgZm9ybWF0UmVsYXRpdmUgfSBmcm9tIFwiZGF0ZS1mbnNcIjtcbmltcG9ydCBhVG9kb0xpc3QgZnJvbSBcIi4vdG9kb0xpc3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgbWFpbkNvbnRlbnRVSSB7XG4gIHN0YXRpYyBjcmVhdGVUYXNrKGRhdGVUeHQsIHRleHQsIHByb2plY3QpIHtcbiAgICAvLyBsZXQgZG9uZSA9IGZhbHNlXG5cbiAgICAvLyBpZihhVG9kb0xpc3QuKVxuXG4gICAgY29uc3QgdGFza0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGFza0Rpdi5jbGFzc0xpc3QgPSBcInRhc2tcIjtcbiAgICB0YXNrRGl2LmRhdGFzZXQucHJvamVjdCA9IHByb2plY3Q7XG5cbiAgICBjb25zdCB0YXNrSW5mb0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGFza0luZm9EaXYuY2xhc3NMaXN0ID0gXCJ0YXNrSW5mb1wiO1xuXG4gICAgY29uc3QgY2hlY2tCb3hJbnB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGNoZWNrQm94SW5wdC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG4gICAgY2hlY2tCb3hJbnB0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJmaW5pc2hlZFRhc2tcIik7XG4gICAgY2hlY2tCb3hJbnB0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZmluaXNoZWRUYXNrXCIpO1xuXG4gICAgY29uc3QgZGF0ZUlucHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgZGF0ZUlucHQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gICAgZGF0ZUlucHQudmFsdWUgPSBkYXRlVHh0O1xuICAgIGRhdGVJbnB0LnJlYWRPbmx5ID0gdHJ1ZTtcblxuICAgIGNvbnN0IHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0ZXh0Tm9kZS5jbGFzc0xpc3QgPSBcIm5vdGVUZXh0XCI7XG4gICAgdGV4dE5vZGUudGV4dENvbnRlbnQgPSB0ZXh0O1xuXG4gICAgdGFza0luZm9EaXYuYXBwZW5kQ2hpbGQoY2hlY2tCb3hJbnB0KTtcbiAgICB0YXNrSW5mb0Rpdi5hcHBlbmRDaGlsZChkYXRlSW5wdCk7XG4gICAgdGFza0luZm9EaXYuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuXG4gICAgdGFza0Rpdi5hcHBlbmRDaGlsZCh0YXNrSW5mb0Rpdik7XG5cbiAgICBjb25zdCBmdW5jdGlvbkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZnVuY3Rpb25EaXYuY2xhc3NMaXN0ID0gXCJmdW5jdGlvbnNcIjtcblxuICAgIGNvbnN0IHNwYW5FZGl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgc3BhbkVkaXQuY2xhc3NMaXN0ID0gXCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkIGVkaXRcIjtcbiAgICBzcGFuRWRpdC50ZXh0Q29udGVudCA9IFwiZWRpdFwiO1xuICAgIGNvbnN0IHNwYW5EZWxldGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBzcGFuRGVsZXRlLnRleHRDb250ZW50ID0gXCJkZWxldGVcIjtcbiAgICBzcGFuRGVsZXRlLmNsYXNzTGlzdCA9IFwibWF0ZXJpYWwtc3ltYm9scy1vdXRsaW5lZCBkZWxldGVcIjtcblxuICAgIGZ1bmN0aW9uRGl2LmFwcGVuZENoaWxkKHNwYW5FZGl0KTtcbiAgICBmdW5jdGlvbkRpdi5hcHBlbmRDaGlsZChzcGFuRGVsZXRlKTtcbiAgICB0YXNrRGl2LmFwcGVuZENoaWxkKGZ1bmN0aW9uRGl2KTtcblxuICAgIHJldHVybiB0YXNrRGl2O1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZUFkZFRhc2soKSB7XG4gICAgY29uc3QgYWRkVGFza0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYWRkVGFza0Rpdi5jbGFzc0xpc3QgPSBcImFkZFRhc2tcIjtcbiAgICBhZGRUYXNrRGl2LnRleHRDb250ZW50ID0gXCIrIEFkZCBUYXNrXCI7XG4gICAgcmV0dXJuIGFkZFRhc2tEaXY7XG4gIH1cblxuICBzdGF0aWMgY3JlYXRlVGFza0Zvcm0oKSB7XG4gICAgLy8gQ2hlYXRpbmc/IHllcy4gVGlyZWQ/IHllcy5cbiAgICBjb25zdCBhZGRUYXNrRm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYWRkVGFza0Zvcm0uY2xhc3NMaXN0ID0gXCJhZGRUYXNrRm9ybVwiO1xuXG4gICAgY29uc3QgYWxsSFRNTCA9IGBcbiAgICA8Zm9ybSBhY3Rpb249XCJcIj5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJkYXRlXCI+RGF0ZTo8L2xhYmVsPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBuYW1lPVwidGFza0RhdGVcIiBpZD1cInRhc2tEYXRlXCIgLz5cbiAgICAgICAgPGxhYmVsIGZvcj1cIlRhc2tcIj5UYXNrOjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ0YXNrVGV4dFwiIGlkPVwidGFza1RleHRcIiAvPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidGFza0Zvcm1CdXR0b25zXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJmb3JtU3VibWl0XCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkXCI+ZG9uZTwvc3Bhbj5TdWJtaXRcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gaWQ9XCJmb3JtQ2FuY2VsXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJtYXRlcmlhbC1zeW1ib2xzLW91dGxpbmVkXCI+Y2FuY2VsPC9zcGFuPkNhbmNlbFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZm9ybT5cbiAgYDtcblxuICAgIGFkZFRhc2tGb3JtLmlubmVySFRNTCA9IGFsbEhUTUw7XG5cbiAgICBjb25zdCBzdWJtaXRCVE4gPSBhZGRUYXNrRm9ybS5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1TdWJtaXRcIik7XG4gICAgY29uc3QgY2FuY2VsQlROID0gYWRkVGFza0Zvcm0ucXVlcnlTZWxlY3RvcihcIiNmb3JtQ2FuY2VsXCIpO1xuXG4gICAgc3VibWl0QlROLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgY2FuY2VsQlROLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHJldHVybiBhZGRUYXNrRm9ybTtcbiAgfVxufVxuIiwiaW1wb3J0IGlzVG9kYXkgZnJvbSBcImRhdGUtZm5zL2lzVG9kYXlcIjtcbmltcG9ydCBpc1RoaXNXZWVrIGZyb20gXCJkYXRlLWZucy9pc1RoaXNXZWVrXCI7XG5pbXBvcnQgTmF2YmFyIGZyb20gXCIuL25hdmJhclwiO1xuaW1wb3J0IG1haW5Db250ZW50VUkgZnJvbSBcIi4vbWFpbkNvbnRlbnRcIjtcbmltcG9ydCBhVG9kb0xpc3QgZnJvbSBcIi4vdG9kb0xpc3RcIjtcbmltcG9ydCBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlDb250cm9sbGVyIHtcbiAgc3RhdGljIGxvYWRQYWdlKCkge1xuICAgIHRoaXMuYWRkUHJvamVjdExpc3RlbmVyKCk7XG4gICAgdGhpcy5wcm9qZWN0TGlzdGVuZXIoKTtcbiAgICB0aGlzLmFkZFRhc2tMaXN0ZW5lcigpO1xuICAgIHRoaXMuYWRkQ3VycmVudFByb2plY3RzKCk7XG4gICAgdGhpcy5kaWZmZXJlbnRQcm9qZWN0U2VsZWN0ZWQoXCJtYWluXCIpO1xuICAgIC8vIGNvbnN0IGJvZHlEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICAvLyBib2R5RGl2LmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlSGVhZGVyKCkpO1xuICAgIC8vIGJvZHlEaXYuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVGb290ZXIoKSk7XG4gICAgLy8gYm9keURpdi5hcHBlbmRDaGlsZChOYXZiYXIubG9hZE5hdigpKTtcbiAgICAvLyBib2R5RGl2LmFwcGVuZENoaWxkKG1haW5Db250ZW50LmNyZWF0ZU1haW4oKSk7XG4gIH1cblxuICBzdGF0aWMgY3VycmVudFByb2plY3RPQkogPSBhVG9kb0xpc3QuZ2V0QVByb2plY3QoXCJtYWluXCIpO1xuXG4gIHN0YXRpYyBjcmVhdGVIZWFkZXIoKSB7XG4gICAgY29uc3QgaGVhZGVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBoZWFkZXJEaXYuY2xhc3NMaXN0ID0gXCJoZWFkZXJcIjtcbiAgICByZXR1cm4gaGVhZGVyRGl2O1xuICB9XG5cbiAgc3RhdGljIGNyZWF0ZUZvb3RlcigpIHtcbiAgICBjb25zdCBmb290ZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGZvb3RlckRpdi5jbGFzc0xpc3QgPSBcImZvb3RlclwiO1xuICAgIHJldHVybiBmb290ZXJEaXY7XG4gIH1cblxuICBzdGF0aWMgYWRkUHJvamVjdEZvcm1CVE5TKCkge1xuICAgIGNvbnN0IHN1Ym1pdEJUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybVN1Ym1pdFwiKTtcbiAgICBjb25zdCBjYW5jZWxCVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1DYW5jZWxcIik7XG4gICAgY29uc3QgaW5wdXRGaWVsZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdE5hbWVcIik7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkUHJvamVjdEZvcm1cIik7XG4gICAgLy8gY29uc29sZS5sb2cocHJvamVjdExpc3RET01Mb2NhdGlvbik7XG4gICAgaW5wdXRGaWVsZC5mb2N1cygpO1xuXG4gICAgc3VibWl0QlROLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgLy8gY29uc3QgbGFzdFByb2plY3RET00gPSBwcm9qZWN0TGlzdERPTVtwcm9qZWN0TGlzdERPTS5sZW5ndGggLSAxXTtcblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKFxuICAgICAgICBpbnB1dEZpZWxkLnZhbHVlICE9PSBcIlwiICYmXG4gICAgICAgIGFUb2RvTGlzdC5nZXRBUHJvamVjdChpbnB1dEZpZWxkLnZhbHVlKSA9PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coaW5wdXRGaWVsZC52YWx1ZSk7XG4gICAgICAgIGlucHV0RmllbGQudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICBmb3JtLnJlcGxhY2VXaXRoKE5hdmJhci5yZXR1cm5BZGRQcm9qZWN0QlROKCkpO1xuICAgICAgICB0aGlzLmFkZFByb2plY3RMaXN0ZW5lcigpO1xuXG4gICAgICAgIGNvbnN0IHByb2plY3RMaXN0RE9NTG9jYXRpb24gPVxuICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYjcHJvamVjdEFkZGVyXCIpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhwcm9qZWN0TGlzdERPTUxvY2F0aW9uKTtcblxuICAgICAgICBjb25zdCBhUHJvamVjdEl0ZW0gPSBOYXZiYXIucmV0dXJuUHJvamVjdEl0ZW0oaW5wdXRGaWVsZC52YWx1ZSk7XG4gICAgICAgIHByb2plY3RMaXN0RE9NTG9jYXRpb24uYmVmb3JlKGFQcm9qZWN0SXRlbSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYVByb2plY3RJdGVtKTtcbiAgICAgICAgLy8gdGhpcy5wcm9qZWN0TGlzdGVuZXIoKTtcblxuICAgICAgICBhVG9kb0xpc3QuYWRkUHJvamVjdChpbnB1dEZpZWxkLnZhbHVlKTtcblxuICAgICAgICBhUHJvamVjdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIndvcmtzXCIpO1xuICAgICAgICAgIHRoaXMuZGlmZmVyZW50UHJvamVjdFNlbGVjdGVkKGlucHV0RmllbGQudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNhbmNlbEJUTi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnNvbGUubG9nKFwidGVzdFwiKTtcblxuICAgICAgZm9ybS5yZXBsYWNlV2l0aChOYXZiYXIucmV0dXJuQWRkUHJvamVjdEJUTigpKTtcbiAgICAgIHRoaXMuYWRkUHJvamVjdExpc3RlbmVyKCk7XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgYWRkQ3VycmVudFByb2plY3RzKCkge1xuICAgIGNvbnN0IGN1cnJlbnRQcm9qZWN0cyA9IGFUb2RvTGlzdC5nZXRQcm9qZWN0c05vdE1haW4oKTtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50UHJvamVjdHMpO1xuXG4gICAgY29uc3QgcHJvamVjdExpc3RET01Mb2NhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYjcHJvamVjdEFkZGVyXCIpO1xuICAgIC8vIGNvbnNvbGUubG9nKHByb2plY3RMaXN0RE9NTG9jYXRpb24pO1xuXG4gICAgY3VycmVudFByb2plY3RzLmZvckVhY2goKGFQcm9qZWN0KSA9PiB7XG4gICAgICBjb25zdCBhUHJvamVjdEl0ZW0gPSBOYXZiYXIucmV0dXJuUHJvamVjdEl0ZW0oYVByb2plY3QuZ2V0TmFtZSgpKTtcbiAgICAgIHByb2plY3RMaXN0RE9NTG9jYXRpb24uYmVmb3JlKGFQcm9qZWN0SXRlbSk7XG4gICAgICBhUHJvamVjdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJ3b3Jrc1wiKTtcbiAgICAgICAgdGhpcy5kaWZmZXJlbnRQcm9qZWN0U2VsZWN0ZWQoYVByb2plY3QuZ2V0TmFtZSgpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIHByb2plY3RMaXN0ZW5lcigpIHtcbiAgICAvLyBjb25zdCBhbGxQcm9qZWN0c0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2I3Byb2plY3RJdGVtXCIpO1xuXG4gICAgY29uc3QgbWFpblByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByaW1hcnkgPiBkaXY6bnRoLWNoaWxkKDEpXCIpO1xuXG4gICAgY29uc3QgdG9kYXlzVGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByaW1hcnkgPiBkaXY6bnRoLWNoaWxkKDIpXCIpO1xuXG4gICAgY29uc3QgdGhpc1dlZWtzVGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIucHJpbWFyeSA+IGRpdjpudGgtY2hpbGQoMylcIlxuICAgICk7XG5cbiAgICBtYWluUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2coYVRvZG9MaXN0LmdldEFQcm9qZWN0KFwibWFpblwiKSk7XG4gICAgICAvLyB0aGlzLnVwZGF0ZU1haW5EaXZQcm9qZWN0KFwibWFpblwiKTtcbiAgICAgIHRoaXMuZGlmZmVyZW50UHJvamVjdFNlbGVjdGVkKFwibWFpblwiKTtcbiAgICB9KTtcblxuICAgIHRvZGF5c1Rhc2tzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAvLyB0aGlzLmxvZ2ljVGFza3NCeURhdGUoXCJ0b2RheVwiKTtcbiAgICAgIHRoaXMudXBkYXRlTWFpbkRpdlByb2plY3RCeURhdGUoXCJ0b2RheVwiKTtcbiAgICB9KTtcblxuICAgIHRoaXNXZWVrc1Rhc2tzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAvLyB0aGlzLmxvZ2ljVGFza3NCeURhdGUoXCJ0aGlzIHdlZWtcIik7XG4gICAgICB0aGlzLnVwZGF0ZU1haW5EaXZQcm9qZWN0QnlEYXRlKFwidGhpcyB3ZWVrXCIpO1xuICAgIH0pO1xuXG4gICAgLy8gYWxsUHJvamVjdHNMaXN0LmZvckVhY2goKGFQcm9qZWN0RE9NKSA9PiB7XG4gICAgLy8gICBhUHJvamVjdERPTS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIC8vICAgICBjb25zdCBwcm9qZWN0TmFtZSA9IGFQcm9qZWN0RE9NLnRleHRDb250ZW50O1xuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhwcm9qZWN0TmFtZSk7XG5cbiAgICAvLyAgICAgY29uc29sZS5sb2coYVRvZG9MaXN0LmdldEFQcm9qZWN0KHByb2plY3ROYW1lKSk7XG4gICAgLy8gICB9KTtcbiAgICAvLyB9KTtcbiAgfVxuXG4gIHN0YXRpYyBhZGRQcm9qZWN0TGlzdGVuZXIoKSB7XG4gICAgY29uc3QgYWRkUHJvamVjdERPTSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdEFkZGVyXCIpO1xuICAgIGFkZFByb2plY3RET00uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGFkZFByb2plY3RET00ucmVwbGFjZVdpdGgoTmF2YmFyLmxvYWRBZGRQcm9qZWN0KCkpO1xuICAgICAgdGhpcy5hZGRQcm9qZWN0Rm9ybUJUTlMoKTtcbiAgICAgIC8vIGFkZFByb2plY3RET00oKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyB0YXNrTGlzdGVuZXIodGFza0Rpdikge1xuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IHRhc2tEaXYucXVlcnlTZWxlY3RvcihcIi5kZWxldGVcIik7XG4gICAgY29uc3QgZWRpdEJ1dHRvbiA9IHRhc2tEaXYucXVlcnlTZWxlY3RvcihcIi5lZGl0XCIpO1xuICAgIGNvbnN0IGNoZWNrYm94ID0gdGFza0Rpdi5xdWVyeVNlbGVjdG9yKFwiI2ZpbmlzaGVkVGFza1wiKTtcbiAgICBjb25zdCBjdXJyZW50VGV4dDIgPSB0YXNrRGl2LnF1ZXJ5U2VsZWN0b3IoXCIubm90ZVRleHRcIikudGV4dENvbnRlbnQ7XG5cbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRhc2tEaXYucmVtb3ZlKCk7XG4gICAgICB0aGlzLmN1cnJlbnRQcm9qZWN0T0JKLnJlbW92ZVRhc2soY3VycmVudFRleHQyKTtcbiAgICB9KTtcblxuICAgIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSB0YXNrRGl2O1xuICAgICAgLy8gY29uc29sZS5sb2coY3VycmVudC5xdWVyeVNlbGVjdG9yKFwiLm5vdGVUZXh0XCIpKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRUZXh0ID0gdGFza0Rpdi5xdWVyeVNlbGVjdG9yKFwiLm5vdGVUZXh0XCIpLnRleHRDb250ZW50O1xuICAgICAgY29uc3QgY3VycmVudERhdGUgPSB0YXNrRGl2LnF1ZXJ5U2VsZWN0b3IoYGlucHV0W3R5cGU9XCJkYXRlXCJdYCkudmFsdWU7XG4gICAgICBjb25zdCBlZGl0VGFza0Zvcm0gPSBtYWluQ29udGVudFVJLmNyZWF0ZVRhc2tGb3JtKCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiY3VycmVudCBUZXh0XCIsIGN1cnJlbnRUZXh0KTtcbiAgICAgIGNvbnNvbGUubG9nKFwiY3VycmVudCBEYXRlXCIsIGN1cnJlbnREYXRlKTtcblxuICAgICAgZWRpdFRhc2tGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjdGFza1RleHRcIikudmFsdWUgPSBjdXJyZW50VGV4dDtcbiAgICAgIGVkaXRUYXNrRm9ybS5xdWVyeVNlbGVjdG9yKFwiI3Rhc2tEYXRlXCIpLnZhbHVlID0gY3VycmVudERhdGU7XG5cbiAgICAgIC8vIGVkaXRUYXNrRm9ybS5xdWVyeVNlbGVjdG9yKCk7XG5cbiAgICAgIGN1cnJlbnQucmVwbGFjZVdpdGgoZWRpdFRhc2tGb3JtKTtcbiAgICAgIHRoaXMuZWRpdFRhc2tMaXN0ZW5lcihlZGl0VGFza0Zvcm0sIGN1cnJlbnQpO1xuICAgIH0pO1xuXG4gICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRhc2tEaXYuY2xhc3NMaXN0LnRvZ2dsZShcImNoZWNrZWRcIik7XG4gICAgICB0aGlzLmN1cnJlbnRQcm9qZWN0T0JKLmdldFRhc2soY3VycmVudFRleHQyKS50b2dnbGVEb25lKCk7XG4gICAgfSk7XG5cbiAgICAvLyBsZXQ7XG4gIH1cblxuICBzdGF0aWMgbG9naWNVcGRhdGVBVGFzayhjdXJyZW50RE9NLCBuZXdOYW1lLCBuZXdEYXRlKSB7XG4gICAgY29uc3QgY3VycmVudFRleHQgPSBjdXJyZW50RE9NLnF1ZXJ5U2VsZWN0b3IoXCIubm90ZVRleHRcIikudGV4dENvbnRlbnQ7XG4gICAgLy8gY29uc3QgY3VycmVudERhdGUgPSBjdXJyZW50RE9NLnF1ZXJ5U2VsZWN0b3IoYGlucHV0W3R5cGU9XCJkYXRlXCJdYCkudmFsdWU7XG5cbiAgICBjb25zdCBjdXJyZW50VGFzayA9IHRoaXMuY3VycmVudFByb2plY3RPQkouZ2V0VGFzayhjdXJyZW50VGV4dCk7XG4gICAgLy8gdGhpcy5jdXJyZW50UHJvamVjdE9CSi5nZXRUYXNrKGN1cnJlbnRUZXh0KVxuICAgIGN1cnJlbnRUYXNrLnNldE5hbWUobmV3TmFtZSk7XG4gICAgY3VycmVudFRhc2suc2V0RGF0ZShuZXdEYXRlKTtcbiAgfVxuXG4gIHN0YXRpYyBlZGl0VGFza0xpc3RlbmVyKGVkaXRGb3JtLCBjdXJyZW50KSB7XG4gICAgY29uc3QgZm9ybVN1Ym1pdEJUTiA9IGVkaXRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybVN1Ym1pdFwiKTtcbiAgICBjb25zdCBmb3JtQ2FuY2VsQlROID0gZWRpdEZvcm0ucXVlcnlTZWxlY3RvcihcIiNmb3JtQ2FuY2VsXCIpO1xuICAgIGNvbnN0IGZvcm1EYXRlSW5wdXQgPSBlZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiI3Rhc2tEYXRlXCIpO1xuICAgIC8vIGNvbnN0IGZvcm0gPSBlZGl0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiLmFkZFRhc2tGb3JtXCIpO1xuXG4gICAgY29uc3QgZm9ybVRleHRJbnB1dCA9IGVkaXRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIjdGFza1RleHRcIik7XG4gICAgZm9ybVN1Ym1pdEJUTi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwienp6elwiKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChmb3JtRGF0ZUlucHV0LnZhbHVlICE9PSBcIlwiICYmIGZvcm1EYXRlSW5wdXQudmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgY29uc3QgZGF0ZSA9IGZvcm1EYXRlSW5wdXQudmFsdWU7XG4gICAgICAgIGNvbnN0IHRleHQgPSBmb3JtVGV4dElucHV0LnZhbHVlO1xuXG4gICAgICAgIC8vIGVkaXRGb3JtLnJlcGxhY2VXaXRoKG1haW5Db250ZW50VUkuY3JlYXRlVGFzaygpKTtcbiAgICAgICAgLy8gY29uc3QgYWRkVGFzayA9IGVkaXRGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIuYWRkVGFza1wiKTtcbiAgICAgICAgdGhpcy5sb2dpY1VwZGF0ZUFUYXNrKGN1cnJlbnQsIHRleHQsIGRhdGUpO1xuICAgICAgICBjb25zdCB0YXNrID0gbWFpbkNvbnRlbnRVSS5jcmVhdGVUYXNrKFxuICAgICAgICAgIGRhdGUsXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICBjdXJyZW50LmRhdGFzZXQucHJvamVjdFxuICAgICAgICApO1xuICAgICAgICBlZGl0Rm9ybS5yZXBsYWNlV2l0aCh0YXNrKTtcbiAgICAgICAgdGhpcy50YXNrTGlzdGVuZXIodGFzayk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UHJvamVjdE9CSi5nZXRUYXNrKCk7XG4gICAgICAgIC8vIHRhc2tCVE5TXG5cbiAgICAgICAgLy8gdGhpcy5hZGRUYXNrTGlzdGVuZXIoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhmb3JtU3VibWl0QlROKTtcbiAgICBmb3JtQ2FuY2VsQlROLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZWRpdEZvcm0ucmVwbGFjZVdpdGgoY3VycmVudCk7XG4gICAgICAvLyB0aGlzLmFkZFRhc2tMaXN0ZW5lcigpO1xuICAgICAgdGhpcy50YXNrTGlzdGVuZXIoY3VycmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgZGlmZmVyZW50UHJvamVjdFNlbGVjdGVkKHByb2plY3ROYW1lKSB7XG4gICAgLy8gaWYgdGhlIHRhc2sgZm9ybSBpcyBhY3RpdmUgYW5kIGRpZmZlcmVudCBwcm9qZWN0IHNlbGVjdGVkXG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkVGFza0Zvcm1cIikpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiZXhpc3RzXCIpO1xuICAgICAgY29uc3QgdGhlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkVGFza0Zvcm1cIik7XG4gICAgICBjb25zb2xlLmxvZyh0aGVGb3JtKTtcbiAgICAgIHRoZUZvcm0ucXVlcnlTZWxlY3RvcihcIiNmb3JtQ2FuY2VsXCIpLmNsaWNrKCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGFUb2RvTGlzdC5nZXRBUHJvamVjdChwcm9qZWN0TmFtZSkpO1xuICAgIHRoaXMuY3VycmVudFByb2plY3RPQkogPSBhVG9kb0xpc3QuZ2V0QVByb2plY3QocHJvamVjdE5hbWUpO1xuICAgIHRoaXMudXBkYXRlTWFpbkRpdlByb2plY3QocHJvamVjdE5hbWUpO1xuXG4gICAgLy8gY3VycmVudFByb2plY3RPQkogPVxuICB9XG5cbiAgc3RhdGljIHVwZGF0ZU1haW5EaXZQcm9qZWN0KHByb2plY3ROYW1lKSB7XG4gICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkVGFza1wiKSA9PSBudWxsKSB7XG4gICAgICBjb25zdCBtYWluRElWID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xuICAgICAgbWFpbkRJVi5hcHBlbmQobWFpbkNvbnRlbnRVSS5jcmVhdGVBZGRUYXNrKCkpO1xuICAgIH1cbiAgICBjb25zdCBtYWluRE9NID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xuICAgIG1haW5ET00uZGF0YXNldC5jdXJyZW50UHJvamVjdCA9IHByb2plY3ROYW1lO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudFByb2plY3RPQkouZ2V0VGFza3MoKSk7XG4gICAgY29uc3Qgb2xkVGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2LnRhc2tcIik7XG4gICAgb2xkVGFza3MuZm9yRWFjaCgoYVNpbmd1bGFyVGFzaykgPT4ge1xuICAgICAgYVNpbmd1bGFyVGFzay5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuY3VycmVudFByb2plY3RPQkouZ2V0VGFza3MoKS5mb3JFYWNoKChhVGFzaykgPT4ge1xuICAgICAgLy8gb2xkVGFza3MucmVtb3ZlKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIkEgdGFza1wiLCBhVGFzayk7XG4gICAgICBjb25zdCBhZGRUYXNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRUYXNrXCIpO1xuICAgICAgY29uc3QgdGFza0RPTSA9IG1haW5Db250ZW50VUkuY3JlYXRlVGFzayhcbiAgICAgICAgYVRhc2suZ2V0RGF0ZSgpLFxuICAgICAgICBhVGFzay5nZXROYW1lKCksXG4gICAgICAgIHByb2plY3ROYW1lXG4gICAgICApO1xuXG4gICAgICBpZiAoYVRhc2suZG9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICB0YXNrRE9NLmNsYXNzTGlzdC50b2dnbGUoXCJjaGVja2VkXCIpO1xuICAgICAgICAvLyB0YXNrRGl2LmNsYXNzTGlzdC50b2dnbGUoXCJjaGVja2VkXCIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRhc2tMaXN0ZW5lcih0YXNrRE9NKTtcbiAgICAgIGFkZFRhc2suYmVmb3JlKHRhc2tET00pO1xuXG4gICAgICB0aGlzLmFkZFRhc2tMaXN0ZW5lcigpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIHVwZGF0ZU1haW5EaXZQcm9qZWN0QnlEYXRlKHRpbWUpIHtcbiAgICBjb25zdCB0YXNrTGlzdCA9IHRoaXMubG9naWNUYXNrc0J5RGF0ZSh0aW1lKTtcbiAgICBjb25zdCBtYWluRE9NID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xuICAgIG1haW5ET00uZGF0YXNldC5jdXJyZW50UHJvamVjdCA9IFwiZGF0ZVwiO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudFByb2plY3RPQkouZ2V0VGFza3MoKSk7XG4gICAgY29uc3Qgb2xkVGFza3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2LnRhc2tcIik7XG4gICAgb2xkVGFza3MuZm9yRWFjaCgoYVNpbmd1bGFyVGFzaykgPT4ge1xuICAgICAgYVNpbmd1bGFyVGFzay5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKFwiISEhISFcIiwgdGFza0xpc3QpO1xuXG4gICAgdGFza0xpc3QuZm9yRWFjaCgoYVRhc2spID0+IHtcbiAgICAgIC8vIG9sZFRhc2tzLnJlbW92ZSgpO1xuICAgICAgY29uc29sZS5sb2coXCJBIHRhc2tcIiwgYVRhc2spO1xuICAgICAgLy8gY29uc3QgYWRkVGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkVGFza1wiKTtcbiAgICAgIC8vIGFkZFRhc2sucmVtb3ZlKClcbiAgICAgIGNvbnN0IHRhc2tET00gPSBtYWluQ29udGVudFVJLmNyZWF0ZVRhc2soXG4gICAgICAgIGFUYXNrLmdldERhdGUoKSxcbiAgICAgICAgYVRhc2suZ2V0TmFtZSgpLFxuICAgICAgICBhVGFzay5wcm9qZWN0XG4gICAgICApO1xuXG4gICAgICBpZiAoYVRhc2suZG9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICB0YXNrRE9NLmNsYXNzTGlzdC50b2dnbGUoXCJjaGVja2VkXCIpO1xuICAgICAgICAvLyB0YXNrRGl2LmNsYXNzTGlzdC50b2dnbGUoXCJjaGVja2VkXCIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRhc2tMaXN0ZW5lcih0YXNrRE9NKTtcbiAgICAgIG1haW5ET00uYXBwZW5kKHRhc2tET00pO1xuXG4gICAgICAvLyB0aGlzLmFkZFRhc2tMaXN0ZW5lcigpO1xuICAgIH0pO1xuICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFRhc2tcIikpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkVGFza1wiKS5yZW1vdmUoKTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgbG9naWNUYXNrc0J5RGF0ZSh0aW1lKSB7XG4gICAgaWYgKHRpbWUgPT09IFwidG9kYXlcIikge1xuICAgICAgLy8gY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgIGNvbnN0IHRvZGF5c1Rhc2tzID0gW107XG5cbiAgICAgIGFUb2RvTGlzdC5nZXRQcm9qZWN0cygpLmZvckVhY2goKGFQcm9qZWN0KSA9PiB7XG4gICAgICAgIGFQcm9qZWN0LmdldFRhc2tzKCkuZm9yRWFjaCgoYVRhc2spID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkFBQUFBQUFBQUFBQUFBQVwiKTtcbiAgICAgICAgICBjb25zdCB0YXNrRGF0ZU9CSiA9IG5ldyBEYXRlKGFUYXNrLmdldERhdGUoKSk7XG4gICAgICAgICAgaWYgKGlzVG9kYXkodGFza0RhdGVPQkopKSB7XG4gICAgICAgICAgICB0b2RheXNUYXNrcy5wdXNoKGFUYXNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKFwiVG9kYXlzIHRhc2tzXCIsIHRvZGF5c1Rhc2tzKTtcbiAgICAgIHJldHVybiB0b2RheXNUYXNrcztcbiAgICB9XG4gICAgaWYgKHRpbWUgPT09IFwidGhpcyB3ZWVrXCIpIHtcbiAgICAgIGNvbnN0IHRoaXNXZWVrc1Rhc2tzID0gW107XG5cbiAgICAgIGFUb2RvTGlzdC5nZXRQcm9qZWN0cygpLmZvckVhY2goKGFQcm9qZWN0KSA9PiB7XG4gICAgICAgIGFQcm9qZWN0LmdldFRhc2tzKCkuZm9yRWFjaCgoYVRhc2spID0+IHtcbiAgICAgICAgICBjb25zdCB0YXNrRGF0ZU9CSiA9IG5ldyBEYXRlKGFUYXNrLmdldERhdGUoKSk7XG4gICAgICAgICAgaWYgKGlzVGhpc1dlZWsodGFza0RhdGVPQkopKSB7XG4gICAgICAgICAgICB0aGlzV2Vla3NUYXNrcy5wdXNoKGFUYXNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcIlRoaXMgd2Vla3MgdGFza3NcIiwgdGhpc1dlZWtzVGFza3MpO1xuICAgICAgcmV0dXJuIHRoaXNXZWVrc1Rhc2tzO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhZGRDdXJyZW50VGFza3MoKSB7fVxuXG4gIHN0YXRpYyBmb3JtVGFza0xpc3RlbmVyKCkge1xuICAgIGNvbnN0IGZvcm1TdWJtaXRCVE4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1TdWJtaXRcIik7XG4gICAgY29uc3QgZm9ybUNhbmNlbEJUTiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybUNhbmNlbFwiKTtcbiAgICBjb25zdCBmb3JtRGF0ZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrRGF0ZVwiKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRUYXNrRm9ybVwiKTtcbiAgICBjb25zdCBjdXJyZW50UHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpblwiKS5kYXRhc2V0LnByb2plY3Q7XG5cbiAgICBjb25zdCBmb3JtVGV4dElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrVGV4dFwiKTtcbiAgICBmb3JtU3VibWl0QlROLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJ6enp6XCIpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGZvcm1EYXRlSW5wdXQudmFsdWUgIT09IFwiXCIgJiYgZm9ybURhdGVJbnB1dC52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICBjb25zdCBkYXRlID0gZm9ybURhdGVJbnB1dC52YWx1ZTtcbiAgICAgICAgY29uc3QgdGV4dCA9IGZvcm1UZXh0SW5wdXQudmFsdWU7XG5cbiAgICAgICAgZm9ybS5yZXBsYWNlV2l0aChtYWluQ29udGVudFVJLmNyZWF0ZUFkZFRhc2soKSk7XG4gICAgICAgIGNvbnN0IGFkZFRhc2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZFRhc2tcIik7XG4gICAgICAgIGNvbnN0IHRhc2sgPSBtYWluQ29udGVudFVJLmNyZWF0ZVRhc2soZGF0ZSwgdGV4dCwgY3VycmVudFByb2plY3QpO1xuXG4gICAgICAgIHRoaXMudGFza0xpc3RlbmVyKHRhc2spO1xuICAgICAgICBhZGRUYXNrLmJlZm9yZSh0YXNrKTtcblxuICAgICAgICB0aGlzLmFkZFRhc2tMaXN0ZW5lcigpO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFByb2plY3RPQkouYWRkVGFzayhcbiAgICAgICAgICBuZXcgVGFzayh0ZXh0LCBkYXRlLCB0aGlzLmN1cnJlbnRQcm9qZWN0T0JKLmdldE5hbWUoKSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zb2xlLmxvZyhmb3JtU3VibWl0QlROKTtcbiAgICBmb3JtQ2FuY2VsQlROLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZm9ybS5yZXBsYWNlV2l0aChtYWluQ29udGVudFVJLmNyZWF0ZUFkZFRhc2soKSk7XG4gICAgICB0aGlzLmFkZFRhc2tMaXN0ZW5lcigpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGFkZFRhc2tMaXN0ZW5lcigpIHtcbiAgICBjb25zdCBhZGRUYXNrRE9NID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRUYXNrXCIpO1xuICAgIGFkZFRhc2tET00uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRUYXNrRm9ybVwiKSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHRhc2tGb3JtRE9NID0gbWFpbkNvbnRlbnRVSS5jcmVhdGVUYXNrRm9ybSgpO1xuICAgICAgICBjb25zdCBkYXRlSU5QVCA9IHRhc2tGb3JtRE9NLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dCN0YXNrRGF0ZVwiKTtcbiAgICAgICAgZGF0ZUlOUFQuZm9jdXMoKTtcbiAgICAgICAgYWRkVGFza0RPTS5yZXBsYWNlV2l0aCh0YXNrRm9ybURPTSk7XG4gICAgICAgIC8vIHRoaXMuYWRkVGFza0xpc3RlbmVyKCk7XG4gICAgICAgIHRoaXMuZm9ybVRhc2tMaXN0ZW5lcigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgaXNTYW1lRGF5IGZyb20gXCIuLi9pc1NhbWVEYXkvaW5kZXguanNcIjtcbmltcG9ydCByZXF1aXJlZEFyZ3MgZnJvbSBcIi4uL19saWIvcmVxdWlyZWRBcmdzL2luZGV4LmpzXCI7XG4vKipcbiAqIEBuYW1lIGlzVG9kYXlcbiAqIEBjYXRlZ29yeSBEYXkgSGVscGVyc1xuICogQHN1bW1hcnkgSXMgdGhlIGdpdmVuIGRhdGUgdG9kYXk/XG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSXMgdGhlIGdpdmVuIGRhdGUgdG9kYXk/XG4gKlxuICogPiDimqDvuI8gUGxlYXNlIG5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBwcmVzZW50IGluIHRoZSBGUCBzdWJtb2R1bGUgYXNcbiAqID4gaXQgdXNlcyBgRGF0ZS5ub3coKWAgaW50ZXJuYWxseSBoZW5jZSBpbXB1cmUgYW5kIGNhbid0IGJlIHNhZmVseSBjdXJyaWVkLlxuICpcbiAqIEBwYXJhbSB7RGF0ZXxOdW1iZXJ9IGRhdGUgLSB0aGUgZGF0ZSB0byBjaGVja1xuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlIGlzIHRvZGF5XG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IDEgYXJndW1lbnQgcmVxdWlyZWRcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gSWYgdG9kYXkgaXMgNiBPY3RvYmVyIDIwMTQsIGlzIDYgT2N0b2JlciAxNDowMDowMCB0b2RheT9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzVG9kYXkobmV3IERhdGUoMjAxNCwgOSwgNiwgMTQsIDApKVxuICogLy89PiB0cnVlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNUb2RheShkaXJ0eURhdGUpIHtcbiAgcmVxdWlyZWRBcmdzKDEsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBpc1NhbWVEYXkoZGlydHlEYXRlLCBEYXRlLm5vdygpKTtcbn0iLCJpbXBvcnQgaXNTYW1lV2VlayBmcm9tIFwiLi4vaXNTYW1lV2Vlay9pbmRleC5qc1wiO1xuaW1wb3J0IHJlcXVpcmVkQXJncyBmcm9tIFwiLi4vX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcIjtcblxuLyoqXG4gKiBAbmFtZSBpc1RoaXNXZWVrXG4gKiBAY2F0ZWdvcnkgV2VlayBIZWxwZXJzXG4gKiBAc3VtbWFyeSBJcyB0aGUgZ2l2ZW4gZGF0ZSBpbiB0aGUgc2FtZSB3ZWVrIGFzIHRoZSBjdXJyZW50IGRhdGU/XG4gKiBAcHVyZSBmYWxzZVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogSXMgdGhlIGdpdmVuIGRhdGUgaW4gdGhlIHNhbWUgd2VlayBhcyB0aGUgY3VycmVudCBkYXRlP1xuICpcbiAqID4g4pqg77iPIFBsZWFzZSBub3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBpcyBub3QgcHJlc2VudCBpbiB0aGUgRlAgc3VibW9kdWxlIGFzXG4gKiA+IGl0IHVzZXMgYERhdGUubm93KClgIGludGVybmFsbHkgaGVuY2UgaW1wdXJlIGFuZCBjYW4ndCBiZSBzYWZlbHkgY3VycmllZC5cbiAqXG4gKiBAcGFyYW0ge0RhdGV8TnVtYmVyfSBkYXRlIC0gdGhlIGRhdGUgdG8gY2hlY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSB0aGUgb2JqZWN0IHdpdGggb3B0aW9uc1xuICogQHBhcmFtIHtMb2NhbGV9IFtvcHRpb25zLmxvY2FsZT1kZWZhdWx0TG9jYWxlXSAtIHRoZSBsb2NhbGUgb2JqZWN0LiBTZWUgW0xvY2FsZV17QGxpbmsgaHR0cHM6Ly9kYXRlLWZucy5vcmcvZG9jcy9Mb2NhbGV9XG4gKiBAcGFyYW0gezB8MXwyfDN8NHw1fDZ9IFtvcHRpb25zLndlZWtTdGFydHNPbj0wXSAtIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZGF5IG9mIHRoZSB3ZWVrICgwIC0gU3VuZGF5KVxuICogQHJldHVybnMge0Jvb2xlYW59IHRoZSBkYXRlIGlzIGluIHRoaXMgd2Vla1xuICogQHRocm93cyB7VHlwZUVycm9yfSAxIGFyZ3VtZW50IHJlcXVpcmVkXG4gKiBAdGhyb3dzIHtSYW5nZUVycm9yfSBgb3B0aW9ucy53ZWVrU3RhcnRzT25gIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA2XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIElmIHRvZGF5IGlzIDI1IFNlcHRlbWJlciAyMDE0LCBpcyAyMSBTZXB0ZW1iZXIgMjAxNCBpbiB0aGlzIHdlZWs/XG4gKiBjb25zdCByZXN1bHQgPSBpc1RoaXNXZWVrKG5ldyBEYXRlKDIwMTQsIDgsIDIxKSlcbiAqIC8vPT4gdHJ1ZVxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBJZiB0b2RheSBpcyAyNSBTZXB0ZW1iZXIgMjAxNCBhbmQgd2VlayBzdGFydHMgd2l0aCBNb25kYXlcbiAqIC8vIGlzIDIxIFNlcHRlbWJlciAyMDE0IGluIHRoaXMgd2Vlaz9cbiAqIGNvbnN0IHJlc3VsdCA9IGlzVGhpc1dlZWsobmV3IERhdGUoMjAxNCwgOCwgMjEpLCB7IHdlZWtTdGFydHNPbjogMSB9KVxuICogLy89PiBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc1RoaXNXZWVrKGRpcnR5RGF0ZSwgb3B0aW9ucykge1xuICByZXF1aXJlZEFyZ3MoMSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGlzU2FtZVdlZWsoZGlydHlEYXRlLCBEYXRlLm5vdygpLCBvcHRpb25zKTtcbn0iLCJpbXBvcnQgVUlDb250cm9sbGVyIGZyb20gXCIuL21vZHVsZXMvdWlDb250cm9sbGVyXCI7XG5pbXBvcnQgVG9kb0xpc3QgZnJvbSBcIi4vbW9kdWxlcy90b2RvTGlzdFwiO1xuXG4vLyBjb25zb2xlLmxvZyhhVG9kb0xpc3QucHJvamVjdHMpO1xuLy9cbi8vIGNvbnNvbGUubG9nKGFUb2RvTGlzdC5nZXRBUHJvamVjdChcIm1haW5cIikpO1xuXG5VSUNvbnRyb2xsZXIubG9hZFBhZ2UoKTtcbiJdLCJuYW1lcyI6WyJyZXF1aXJlZEFyZ3MiLCJyZXF1aXJlZCIsImFyZ3MiLCJsZW5ndGgiLCJUeXBlRXJyb3IiLCJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsInRvRGF0ZSIsImFyZ3VtZW50IiwiYXJndW1lbnRzIiwiYXJnU3RyIiwiT2JqZWN0IiwidG9TdHJpbmciLCJjYWxsIiwiRGF0ZSIsImdldFRpbWUiLCJjb25zb2xlIiwid2FybiIsIkVycm9yIiwic3RhY2siLCJOYU4iLCJzdGFydE9mRGF5IiwiZGlydHlEYXRlIiwiZGF0ZSIsInNldEhvdXJzIiwiaXNTYW1lRGF5IiwiZGlydHlEYXRlTGVmdCIsImRpcnR5RGF0ZVJpZ2h0IiwiZGF0ZUxlZnRTdGFydE9mRGF5IiwiZGF0ZVJpZ2h0U3RhcnRPZkRheSIsInRvSW50ZWdlciIsImRpcnR5TnVtYmVyIiwibnVtYmVyIiwiTnVtYmVyIiwiaXNOYU4iLCJNYXRoIiwiY2VpbCIsImZsb29yIiwiZGVmYXVsdE9wdGlvbnMiLCJnZXREZWZhdWx0T3B0aW9ucyIsInN0YXJ0T2ZXZWVrIiwib3B0aW9ucyIsIl9yZWYiLCJfcmVmMiIsIl9yZWYzIiwiX29wdGlvbnMkd2Vla1N0YXJ0c09uIiwiX29wdGlvbnMkbG9jYWxlIiwiX29wdGlvbnMkbG9jYWxlJG9wdGlvIiwiX2RlZmF1bHRPcHRpb25zJGxvY2FsIiwiX2RlZmF1bHRPcHRpb25zJGxvY2FsMiIsIndlZWtTdGFydHNPbiIsImxvY2FsZSIsIlJhbmdlRXJyb3IiLCJkYXkiLCJnZXREYXkiLCJkaWZmIiwic2V0RGF0ZSIsImdldERhdGUiLCJpc1NhbWVXZWVrIiwiZGF0ZUxlZnRTdGFydE9mV2VlayIsImRhdGVSaWdodFN0YXJ0T2ZXZWVrIiwiTmF2YmFyIiwic3RhdGljIiwiY3JlYXRlQnV0dG9uIiwic3ltYm9sIiwidGV4dCIsImJ1dHRvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNwYW4iLCJjbGFzc0xpc3QiLCJ0ZXh0Q29udGVudCIsImJ1dHRvblRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImFwcGVuZENoaWxkIiwiaWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZm9ybURpdiIsImxhYmVsIiwic2V0QXR0cmlidXRlIiwiaW5uZXJUZXh0IiwiaW5wdXQiLCJsb2ciLCJidXR0b25EaXYiLCJuYW1lIiwicHJvamVjdCIsImFkZFByb2plY3QiLCJQcm9qZWN0IiwidGhpcyIsInRhc2tzIiwic2V0TmFtZSIsImdldE5hbWUiLCJnZXRUYXNrcyIsImdldFRhc2siLCJ0YXNrTmFtZSIsImZpbmQiLCJ0YXNrIiwicmVtb3ZlVGFzayIsImZpbHRlciIsImFkZFRhc2siLCJwdXNoIiwiVGFzayIsImRvbmUiLCJ0b2dnbGVEb25lIiwiYVRvZG9MaXN0IiwicHJvamVjdHMiLCJnZXRQcm9qZWN0cyIsImdldFByb2plY3RzTm90TWFpbiIsImFQcm9qZWN0IiwiZ2V0QVByb2plY3QiLCJtYWluQ29udGVudFVJIiwiZGF0ZVR4dCIsInRhc2tEaXYiLCJkYXRhc2V0IiwidGFza0luZm9EaXYiLCJjaGVja0JveElucHQiLCJkYXRlSW5wdCIsInZhbHVlIiwicmVhZE9ubHkiLCJ0ZXh0Tm9kZSIsImZ1bmN0aW9uRGl2Iiwic3BhbkVkaXQiLCJzcGFuRGVsZXRlIiwiYWRkVGFza0RpdiIsImFkZFRhc2tGb3JtIiwiaW5uZXJIVE1MIiwic3VibWl0QlROIiwicXVlcnlTZWxlY3RvciIsImNhbmNlbEJUTiIsIlVJQ29udHJvbGxlciIsImFkZFByb2plY3RMaXN0ZW5lciIsInByb2plY3RMaXN0ZW5lciIsImFkZFRhc2tMaXN0ZW5lciIsImFkZEN1cnJlbnRQcm9qZWN0cyIsImRpZmZlcmVudFByb2plY3RTZWxlY3RlZCIsImhlYWRlckRpdiIsImZvb3RlckRpdiIsImlucHV0RmllbGQiLCJmb3JtIiwiZm9jdXMiLCJyZXBsYWNlV2l0aCIsInJldHVybkFkZFByb2plY3RCVE4iLCJwcm9qZWN0TGlzdERPTUxvY2F0aW9uIiwiYVByb2plY3RJdGVtIiwicmV0dXJuUHJvamVjdEl0ZW0iLCJiZWZvcmUiLCJjdXJyZW50UHJvamVjdHMiLCJmb3JFYWNoIiwibWFpblByb2plY3QiLCJ0b2RheXNUYXNrcyIsInRoaXNXZWVrc1Rhc2tzIiwidXBkYXRlTWFpbkRpdlByb2plY3RCeURhdGUiLCJhZGRQcm9qZWN0RE9NIiwibG9hZEFkZFByb2plY3QiLCJhZGRQcm9qZWN0Rm9ybUJUTlMiLCJkZWxldGVCdXR0b24iLCJlZGl0QnV0dG9uIiwiY2hlY2tib3giLCJjdXJyZW50VGV4dDIiLCJyZW1vdmUiLCJjdXJyZW50UHJvamVjdE9CSiIsImN1cnJlbnQiLCJjdXJyZW50VGV4dCIsImN1cnJlbnREYXRlIiwiZWRpdFRhc2tGb3JtIiwiY3JlYXRlVGFza0Zvcm0iLCJlZGl0VGFza0xpc3RlbmVyIiwidG9nZ2xlIiwiY3VycmVudERPTSIsIm5ld05hbWUiLCJuZXdEYXRlIiwiY3VycmVudFRhc2siLCJlZGl0Rm9ybSIsImZvcm1TdWJtaXRCVE4iLCJmb3JtQ2FuY2VsQlROIiwiZm9ybURhdGVJbnB1dCIsImZvcm1UZXh0SW5wdXQiLCJsb2dpY1VwZGF0ZUFUYXNrIiwiY3JlYXRlVGFzayIsInRhc2tMaXN0ZW5lciIsInByb2plY3ROYW1lIiwidGhlRm9ybSIsImNsaWNrIiwidXBkYXRlTWFpbkRpdlByb2plY3QiLCJhcHBlbmQiLCJjcmVhdGVBZGRUYXNrIiwiY3VycmVudFByb2plY3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYVNpbmd1bGFyVGFzayIsImFUYXNrIiwidGFza0RPTSIsInRpbWUiLCJ0YXNrTGlzdCIsImxvZ2ljVGFza3NCeURhdGUiLCJtYWluRE9NIiwibm93IiwiaXNUb2RheSIsImlzVGhpc1dlZWsiLCJhZGRUYXNrRE9NIiwidGFza0Zvcm1ET00iLCJmb3JtVGFza0xpc3RlbmVyIiwibG9hZFBhZ2UiXSwic291cmNlUm9vdCI6IiJ9